## Codebase Patterns
- Blog index is generated by `scripts/generate-blog-index.js` and written to `frontend/public/blog-index.json`
- `frontend/public/` is gitignored; use `git add -f` for blog-index.json
- Script functions are exported via `module.exports` for testing
- Script tests use temp directories created with `fs.mkdtempSync`
- Frontend tests mock `fetch` globally for API calls
- Blog posts are markdown files at `frontend/public/YYYY/blog-YYYY-MM-DD-slug.md`
- React Router uses basename `/blog` — dev server URL is `http://localhost:3000/blog`, not `/`
- Summary is conditionally rendered with `{post.summary && (...)}` to gracefully handle missing summaries
- No tsconfig.json — this is a plain JS project; typecheck ACs are satisfied by default
- `createBlogPost` test helper accepts optional content param; uses `!== undefined` check (empty string is valid)

---

## 2026-02-01 - US-001
- Implemented summary generation in `generate-blog-index.js`
- Added `stripMarkdown()` to remove all markdown syntax (headings, links, bold, code blocks, images, tables, lists, blockquotes, etc.)
- Added `extractSummary()` to truncate plain text at ~150 chars on word boundary with ellipsis
- Each blog post entry in `blog-index.json` now includes a `summary` field
- Exported `stripMarkdown` and `extractSummary` for testing
- Files changed: `scripts/generate-blog-index.js`, `frontend/public/blog-index.json`
- **Learnings for future iterations:**
  - `frontend/public/` is in `.gitignore` — need `git add -f` for `blog-index.json`
  - The `SUMMARY_LENGTH` constant (150) controls truncation length
  - `stripMarkdown` handles fenced code blocks, inline code, images, links, headings, bold/italic, strikethrough, blockquotes, tables, and list markers
  - Existing tests all still pass without modification since they don't assert on the shape of post objects strictly
---

## 2026-02-01 - US-002
- Added summary display to BlogList component below title and date
- Summary renders as a `<p>` with class `blog-list-summary` inside the existing link
- Conditionally rendered: posts without a summary show title/date only
- Added CSS styling: `font-size: 0.95rem`, `color: #666`, with responsive breakpoint at 768px
- Files changed: `frontend/src/components/BlogList.js`, `frontend/src/App.css`
- Browser verified: summaries visible on all three posts at `http://localhost:3000/blog`
- All 54 tests pass (33 frontend + 21 scripts)
- **Learnings for future iterations:**
  - The app uses React Router with `basename="/blog"`, so dev server must be accessed at `/blog` not `/`
  - Summaries are plain text rendered inside the `<Link>` component, keeping the entire card clickable
  - Existing BlogList tests don't include `summary` in mock data, which is fine since rendering is conditional
---

## 2026-02-01 - US-003
- Added 13 new `stripMarkdown` tests covering: headings, bold/italic, links, images, code blocks, inline code, blockquotes, lists, strikethrough, whitespace collapsing, empty input, and mixed syntax
- Added 7 new `extractSummary` tests covering: short text passthrough, empty/null input, word-boundary truncation, ellipsis appending, exact-fit (no ellipsis), and single long word handling
- Added 3 new `findBlogPosts` tests: summary extraction from content, truncation for long content, and empty content producing empty summary
- Added 4 new BlogList component tests: summary display, plain text rendering with correct element/class, missing summary graceful handling, and empty summary graceful handling
- Updated `createBlogPost` test helper to accept optional content parameter
- Files changed: `scripts/__tests__/generate-blog-index.test.js`, `frontend/src/components/__tests__/BlogList.test.js`
- All 81 tests pass (37 frontend + 44 scripts)
- **Learnings for future iterations:**
  - The `createBlogPost` helper uses `content !== undefined` check (not `||`) because empty string is a valid test case
  - No tsconfig.json exists — this is a plain JS project, so typecheck AC is satisfied by default
  - Frontend tests run via `react-scripts test`, scripts tests run via separate jest config `jest.config.scripts.js`
---
